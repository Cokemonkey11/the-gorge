scope IonicTeleporter initializer i
	import DTS12MissileArray
	import RegisterPlayerUnitEvent

	globals
		constant integer TELE_ID='A00H'
	endglobals

	function effectC takes nothing returns nothing
		if GetSpellAbilityId()==TELE_ID then
			DTS12MissileArray.disjoint(GetTriggerUnit())
		endif
	endfunction

	function i takes nothing returns nothing
		registerPlayerUnitEvent(EVENT_PLAYER_UNIT_SPELL_EFFECT, function effectC)
	endfunction
endscope
